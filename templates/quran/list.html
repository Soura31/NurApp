{% extends 'base.html' %}
{% block title %}Al-Quran Al-Karim{% endblock %}
{% block content %}
<section class="max-w-7xl mx-auto px-4 sm:px-6 py-10" data-aos="fade-up">
  <h1 class="font-cinzel text-4xl text-white">Al-Quran Al-Karim</h1>
  <p class="font-amiri text-3xl text-[#c9a84c] mt-2" dir="rtl" lang="ar">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
  <div class="mt-5 flex flex-wrap items-center gap-3">
    <a href="/quran/pages/1/" class="inline-flex items-center gap-2 px-5 py-3 rounded-xl text-[#080c10] font-semibold" style="background:var(--nur-gold-gradient)">Lecture par page (arabe)</a>
    <form action="/quran/pages/1/" method="get" onsubmit="this.action='/quran/pages/' + this.page_number.value + '/';" class="flex items-center gap-2">
      <input type="number" name="page_number" min="1" max="604" value="1" class="w-24 rounded-xl bg-[#161b22] border border-[#c9a84c]/20 px-3 py-2 text-white" />
      <button class="px-4 py-2 rounded-xl border border-[#c9a84c]/40 text-[#c9a84c]">Ouvrir page</button>
    </form>
  </div>
  <form class="mt-5 grid md:grid-cols-[1fr,auto,auto] gap-3" method="get">
    <input type="text" name="q" value="{{ q }}" placeholder="Rechercher une sourate" class="rounded-xl bg-[#161b22] border border-[#c9a84c]/20 px-4 py-3 text-white">
    <select name="revelation_place" class="rounded-xl bg-[#161b22] border border-[#c9a84c]/20 px-4 py-3 text-white">
      <option value="">Toutes</option>
      <option value="makkah" {% if revelation_place == 'makkah' %}selected{% endif %}>Mecquoises</option>
      <option value="madinah" {% if revelation_place == 'madinah' %}selected{% endif %}>Medinoises</option>
    </select>
    <button class="px-5 py-3 rounded-xl text-[#080c10] font-semibold" style="background:var(--nur-gold-gradient)">Filtrer</button>
  </form>

  <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-8">
    {% for c in chapters %}
    <a href="/quran/{{ c.id }}/" class="group rounded-xl p-4 premium-lift" style="background:rgba(201,168,76,.03);border:1px solid rgba(201,168,76,.1)">
      <div class="h-10 w-10 rounded-lg bg-[#c9a84c]/20 text-[#f0c060] flex items-center justify-center font-bold">{{ c.id }}</div>
      <p class="font-amiri text-2xl text-white text-right mt-3" dir="rtl" lang="ar">{{ c.name_arabic }}</p>
      <p class="text-[#8b949e] text-xs mt-1">{{ c.verses_count }} ايات</p>
    </a>
    {% endfor %}
  </div>
</section>
{% endblock %}
